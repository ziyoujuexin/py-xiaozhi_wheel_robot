<p align="center" class="trendshift">
  <a href="https://trendshift.io/repositories/14130" target="_blank">
    <img src="https://trendshift.io/api/badge/repositories/14130" alt="Trendshift" style="width: 250px; height: 55px;" width="250" height="55"/>
  </a>
</p>
<p align="center">
  <a href="https://github.com/huangjunsen0406/py-xiaozhi/releases/latest">
    <img src="https://img.shields.io/github/v/release/huangjunsen0406/py-xiaozhi?style=flat-square&logo=github&color=blue" alt="Release"/>
  </a>
  <a href="https://opensource.org/licenses/MIT">
    <img src="https://img.shields.io/badge/License-MIT-green.svg?style=flat-square" alt="License: MIT"/>
  </a>
  <a href="https://github.com/huangjunsen0406/py-xiaozhi/stargazers">
    <img src="https://img.shields.io/github/stars/huangjunsen0406/py-xiaozhi?style=flat-square&logo=github" alt="Stars"/>
  </a>
  <a href="https://github.com/huangjunsen0406/py-xiaozhi/releases/latest">
    <img src="https://img.shields.io/github/downloads/huangjunsen0406/py-xiaozhi/total?style=flat-square&logo=github&color=52c41a1&maxAge=86400" alt="Download"/>
  </a>
  <a href="https://gitee.com/huang-jun-sen/py-xiaozhi">
    <img src="https://img.shields.io/badge/Gitee-FF5722?style=flat-square&logo=gitee" alt="Gitee"/>
  </a>
  <a href="https://huangjunsen0406.github.io/py-xiaozhi/guide/00_%E6%96%87%E6%A1%A3%E7%9B%AE%E5%BD%95.html">
    <img alt="ä½¿ç”¨æ–‡æ¡£" src="https://img.shields.io/badge/ä½¿ç”¨æ–‡æ¡£-ç‚¹å‡»æŸ¥çœ‹-blue?labelColor=2d2d2d" />
  </a>
</p>

ç®€ä½“ä¸­æ–‡ | [English](README.en.md)

## é¡¹ç›®ç®€ä»‹

py-xiaozhi æ˜¯ä¸€ä¸ªä½¿ç”¨ Python å®ç°çš„å°æ™ºè¯­éŸ³å®¢æˆ·ç«¯ï¼Œæ—¨åœ¨é€šè¿‡ä»£ç å­¦ä¹ å’Œåœ¨æ²¡æœ‰ç¡¬ä»¶æ¡ä»¶ä¸‹ä½“éªŒ AI å°æ™ºçš„è¯­éŸ³åŠŸèƒ½ã€‚
æœ¬ä»“åº“æ˜¯åŸºäº[xiaozhi-esp32](https://github.com/78/xiaozhi-esp32)ç§»æ¤

## æ¼”ç¤º

- [Bilibili æ¼”ç¤ºè§†é¢‘](https://www.bilibili.com/video/BV1HmPjeSED2/#reply255921347937)

![Image](./documents/docs/guide/images/ç³»ç»Ÿç•Œé¢.png)

## åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¯ æ ¸å¿ƒAIåŠŸèƒ½

- **AIè¯­éŸ³äº¤äº’**ï¼šæ”¯æŒè¯­éŸ³è¾“å…¥ä¸è¯†åˆ«ï¼Œå®ç°æ™ºèƒ½äººæœºäº¤äº’ï¼Œæä¾›è‡ªç„¶æµç•…çš„å¯¹è¯ä½“éªŒ
- **è§†è§‰å¤šæ¨¡æ€**ï¼šæ”¯æŒå›¾åƒè¯†åˆ«å’Œå¤„ç†ï¼Œæä¾›å¤šæ¨¡æ€äº¤äº’èƒ½åŠ›ï¼Œç†è§£å›¾åƒå†…å®¹
- **æ™ºèƒ½å”¤é†’**ï¼šæ”¯æŒå¤šç§å”¤é†’è¯æ¿€æ´»äº¤äº’ï¼Œå…å»æ‰‹åŠ¨æ“ä½œçš„çƒ¦æ¼ï¼ˆå¯é…ç½®å¼€å¯ï¼‰
- **è‡ªåŠ¨å¯¹è¯æ¨¡å¼**ï¼šå®ç°è¿ç»­å¯¹è¯ä½“éªŒï¼Œæå‡ç”¨æˆ·äº¤äº’æµç•…åº¦

### ğŸ”§ MCPå·¥å…·ç”Ÿæ€ç³»ç»Ÿ

- **ç³»ç»Ÿæ§åˆ¶å·¥å…·**ï¼šç³»ç»ŸçŠ¶æ€ç›‘æ§ã€åº”ç”¨ç¨‹åºç®¡ç†ã€éŸ³é‡æ§åˆ¶ã€è®¾å¤‡ç®¡ç†ç­‰
- **æ—¥ç¨‹ç®¡ç†å·¥å…·**ï¼šå…¨åŠŸèƒ½æ—¥ç¨‹ç®¡ç†ï¼Œæ”¯æŒåˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤äº‹ä»¶ï¼Œæ™ºèƒ½åˆ†ç±»å’Œæé†’
- **å®šæ—¶ä»»åŠ¡å·¥å…·**ï¼šå€’è®¡æ—¶å™¨åŠŸèƒ½ï¼Œæ”¯æŒå»¶æ—¶æ‰§è¡ŒMCPå·¥å…·ï¼Œå¤šä»»åŠ¡å¹¶è¡Œç®¡ç†
- **éŸ³ä¹æ’­æ”¾å·¥å…·**ï¼šåœ¨çº¿éŸ³ä¹æœç´¢æ’­æ”¾ï¼Œæ”¯æŒæ’­æ”¾æ§åˆ¶ã€æ­Œè¯æ˜¾ç¤ºã€æœ¬åœ°ç¼“å­˜ç®¡ç†
- **12306æŸ¥è¯¢å·¥å…·**ï¼š12306é“è·¯ç¥¨åŠ¡æŸ¥è¯¢ï¼Œæ”¯æŒè½¦ç¥¨æŸ¥è¯¢ã€ä¸­è½¬æŸ¥è¯¢ã€åˆ—è½¦è·¯çº¿æŸ¥è¯¢
- **æœç´¢å·¥å…·**ï¼šç½‘ç»œæœç´¢å’Œç½‘é¡µå†…å®¹è·å–ï¼Œæ”¯æŒå¿…åº”æœç´¢å’Œæ™ºèƒ½å†…å®¹è§£æ
- **èœè°±å·¥å…·**ï¼šä¸°å¯Œèœè°±åº“ï¼Œæ”¯æŒèœè°±æœç´¢ã€åˆ†ç±»æŸ¥è¯¢ã€æ™ºèƒ½æ¨è
- **åœ°å›¾å·¥å…·**ï¼šé«˜å¾·åœ°å›¾æœåŠ¡ï¼Œæ”¯æŒåœ°ç†ç¼–ç ã€è·¯å¾„è§„åˆ’ã€å‘¨è¾¹æœç´¢ã€å¤©æ°”æŸ¥è¯¢
- **å…«å­—å‘½ç†å·¥å…·**ï¼šä¼ ç»Ÿå…«å­—å‘½ç†åˆ†æï¼Œæ”¯æŒå…«å­—è®¡ç®—ã€å©šå§»åˆ†æã€é»„å†æŸ¥è¯¢
- **æ‘„åƒå¤´å·¥å…·**ï¼šå›¾åƒæ•è·å’ŒAIåˆ†æï¼Œæ”¯æŒæ‹ç…§è¯†åˆ«å’Œæ™ºèƒ½é—®ç­”

### ğŸ  IoTè®¾å¤‡é›†æˆ

- **è®¾å¤‡ç®¡ç†æ¶æ„**ï¼šåŸºäºThingæ¨¡å¼çš„ç»Ÿä¸€è®¾å¤‡ç®¡ç†ï¼Œæ”¯æŒå±æ€§å’Œæ–¹æ³•çš„å¼‚æ­¥è°ƒç”¨
- **æ™ºèƒ½å®¶å±…æ§åˆ¶**ï¼šæ”¯æŒç¯å…‰ã€éŸ³é‡ã€æ¸©åº¦ä¼ æ„Ÿå™¨ç­‰è®¾å¤‡æ§åˆ¶
- **çŠ¶æ€åŒæ­¥æœºåˆ¶**ï¼šå®æ—¶çŠ¶æ€ç›‘æ§ï¼Œæ”¯æŒå¢é‡æ›´æ–°å’Œå¹¶å‘çŠ¶æ€è·å–
- **å¯æ‰©å±•è®¾è®¡**ï¼šæ¨¡å—åŒ–è®¾å¤‡é©±åŠ¨ï¼Œæ˜“äºæ·»åŠ æ–°è®¾å¤‡ç±»å‹

### ğŸµ é«˜çº§éŸ³é¢‘å¤„ç†

- **å¤šçº§éŸ³é¢‘å¤„ç†**ï¼šæ”¯æŒOpusç¼–è§£ç ã€å®æ—¶é‡é‡‡æ ·
- **è¯­éŸ³æ´»åŠ¨æ£€æµ‹**ï¼šVADæ£€æµ‹å™¨å®ç°æ™ºèƒ½æ‰“æ–­ï¼Œæ”¯æŒè¯­éŸ³æ´»åŠ¨å®æ—¶ç›‘æ§
- **å”¤é†’è¯æ£€æµ‹**ï¼šåŸºäºSherpa-ONNXçš„ç¦»çº¿è¯­éŸ³è¯†åˆ«ï¼Œæ”¯æŒå¤šå”¤é†’è¯å’Œæ‹¼éŸ³åŒ¹é…
- **éŸ³é¢‘æµç®¡ç†**ï¼šç‹¬ç«‹è¾“å…¥è¾“å‡ºæµï¼Œæ”¯æŒæµé‡å»ºå’Œé”™è¯¯æ¢å¤
- **éŸ³é¢‘å›å£°æ¶ˆé™¤**ï¼šé›†æˆWebRTCéŸ³é¢‘å¤„ç†æ¨¡å—ï¼Œæä¾›é«˜è´¨é‡çš„å›å£°æ¶ˆé™¤åŠŸèƒ½
- **ç³»ç»ŸéŸ³é¢‘å½•åˆ¶**ï¼šæ”¯æŒç³»ç»ŸéŸ³é¢‘å½•åˆ¶ï¼Œå®ç°éŸ³é¢‘ç¯å›å¤„ç†

### ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢

- **å›¾å½¢åŒ–ç•Œé¢**ï¼šåŸºäºPyQt5çš„ç°ä»£GUIï¼Œæ”¯æŒå°æ™ºè¡¨æƒ…ä¸æ–‡æœ¬æ˜¾ç¤ºï¼Œå¢å¼ºè§†è§‰ä½“éªŒ
- **å‘½ä»¤è¡Œæ¨¡å¼**ï¼šæ”¯æŒCLIè¿è¡Œï¼Œé€‚ç”¨äºåµŒå…¥å¼è®¾å¤‡æˆ–æ— GUIç¯å¢ƒ
- **ç³»ç»Ÿæ‰˜ç›˜**ï¼šåå°è¿è¡Œæ”¯æŒï¼Œé›†æˆç³»ç»Ÿæ‰˜ç›˜åŠŸèƒ½
- **å…¨å±€å¿«æ·é”®**ï¼šæ”¯æŒå…¨å±€å¿«æ·é”®æ“ä½œï¼Œæå‡ä½¿ç”¨ä¾¿æ·æ€§
- **è®¾ç½®ç•Œé¢**ï¼šå®Œæ•´çš„è®¾ç½®ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒé…ç½®è‡ªå®šä¹‰

### ğŸ”’ å®‰å…¨ä¸ç¨³å®š

- **åŠ å¯†éŸ³é¢‘ä¼ è¾“**ï¼šæ”¯æŒWSSåè®®ï¼Œä¿éšœéŸ³é¢‘æ•°æ®çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢ä¿¡æ¯æ³„éœ²
- **è®¾å¤‡æ¿€æ´»ç³»ç»Ÿ**ï¼šæ”¯æŒv1/v2åŒåè®®æ¿€æ´»ï¼Œè‡ªåŠ¨å¤„ç†éªŒè¯ç å’Œè®¾å¤‡æŒ‡çº¹
- **é”™è¯¯æ¢å¤**ï¼šå®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶ï¼Œæ”¯æŒæ–­çº¿é‡è¿

### ğŸŒ è·¨å¹³å°æ”¯æŒ

- **ç³»ç»Ÿå…¼å®¹**ï¼šå…¼å®¹Windows 10+ã€macOS 10.15+å’ŒLinuxç³»ç»Ÿ
- **åè®®æ”¯æŒ**ï¼šæ”¯æŒWebSocketå’ŒMQTTåŒåè®®é€šä¿¡
- **å¤šç¯å¢ƒéƒ¨ç½²**ï¼šæ”¯æŒGUIå’ŒCLIåŒæ¨¡å¼ï¼Œé€‚åº”ä¸åŒéƒ¨ç½²ç¯å¢ƒ
- **å¹³å°ä¼˜åŒ–**ï¼šé’ˆå¯¹ä¸åŒå¹³å°çš„éŸ³é¢‘å’Œç³»ç»Ÿæ§åˆ¶ä¼˜åŒ–

### ğŸ”§ å¼€å‘å‹å¥½

- **æ¨¡å—åŒ–æ¶æ„**ï¼šæ¸…æ™°çš„ä»£ç ç»“æ„å’ŒèŒè´£åˆ†ç¦»ï¼Œä¾¿äºäºŒæ¬¡å¼€å‘
- **å¼‚æ­¥ä¼˜å…ˆ**ï¼šåŸºäºasyncioçš„äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œé«˜æ€§èƒ½å¹¶å‘å¤„ç†
- **é…ç½®ç®¡ç†**ï¼šåˆ†å±‚é…ç½®ç³»ç»Ÿï¼Œæ”¯æŒç‚¹è®°æ³•è®¿é—®å’ŒåŠ¨æ€æ›´æ–°
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šå®Œæ•´çš„æ—¥å¿—è®°å½•å’Œè°ƒè¯•æ”¯æŒ
- **APIæ–‡æ¡£**ï¼šè¯¦ç»†çš„ä»£ç æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—

## ç³»ç»Ÿè¦æ±‚

### åŸºç¡€è¦æ±‚

- **Pythonç‰ˆæœ¬**ï¼š3.9 - 3.12
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10+ã€macOS 10.15+ã€Linux
- **éŸ³é¢‘è®¾å¤‡**ï¼šéº¦å…‹é£å’Œæ‰¬å£°å™¨è®¾å¤‡
- **ç½‘ç»œè¿æ¥**ï¼šç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼ˆç”¨äºAIæœåŠ¡å’Œåœ¨çº¿åŠŸèƒ½ï¼‰

### æ¨èé…ç½®

- **å†…å­˜**ï¼šè‡³å°‘4GB RAMï¼ˆæ¨è8GB+ï¼‰
- **å¤„ç†å™¨**ï¼šæ”¯æŒAVXæŒ‡ä»¤é›†çš„ç°ä»£CPU
- **å­˜å‚¨**ï¼šè‡³å°‘2GBå¯ç”¨ç£ç›˜ç©ºé—´ï¼ˆç”¨äºæ¨¡å‹æ–‡ä»¶å’Œç¼“å­˜ï¼‰
- **éŸ³é¢‘**ï¼šæ”¯æŒ16kHzé‡‡æ ·ç‡çš„éŸ³é¢‘è®¾å¤‡

### å¯é€‰åŠŸèƒ½è¦æ±‚

- **è¯­éŸ³å”¤é†’**ï¼šéœ€è¦ä¸‹è½½Sherpa-ONNXè¯­éŸ³è¯†åˆ«æ¨¡å‹
- **æ‘„åƒå¤´åŠŸèƒ½**ï¼šéœ€è¦æ‘„åƒå¤´è®¾å¤‡å’ŒOpenCVæ”¯æŒ

## è¯·å…ˆçœ‹è¿™é‡Œ

- ä»”ç»†é˜…è¯» [é¡¹ç›®æ–‡æ¡£](https://huangjunsen0406.github.io/py-xiaozhi/) å¯åŠ¨æ•™ç¨‹å’Œæ–‡ä»¶è¯´æ˜éƒ½åœ¨é‡Œé¢äº†
- mainæ˜¯æœ€æ–°ä»£ç ï¼Œæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦æ‰‹åŠ¨é‡æ–°å®‰è£…ä¸€æ¬¡pipä¾èµ–é˜²æ­¢æˆ‘æ–°å¢ä¾èµ–åä½ ä»¬æœ¬åœ°æ²¡æœ‰

[ä»é›¶å¼€å§‹ä½¿ç”¨å°æ™ºå®¢æˆ·ç«¯ï¼ˆè§†é¢‘æ•™ç¨‹ï¼‰](https://www.bilibili.com/video/BV1dWQhYEEmq/?vd_source=2065ec11f7577e7107a55bbdc3d12fce)

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæ¶æ„è®¾è®¡

- **äº‹ä»¶é©±åŠ¨æ¶æ„**: åŸºäºasyncioçš„å¼‚æ­¥äº‹ä»¶å¾ªç¯ï¼Œæ”¯æŒé«˜å¹¶å‘å¤„ç†
- **åˆ†å±‚è®¾è®¡**: æ¸…æ™°çš„åº”ç”¨å±‚ã€åè®®å±‚ã€è®¾å¤‡å±‚ã€UIå±‚åˆ†ç¦»
- **å•ä¾‹æ¨¡å¼**: æ ¸å¿ƒç»„ä»¶é‡‡ç”¨å•ä¾‹æ¨¡å¼ï¼Œç¡®ä¿èµ„æºç»Ÿä¸€ç®¡ç†
- **æ’ä»¶åŒ–**: MCPå·¥å…·ç³»ç»Ÿå’ŒIoTè®¾å¤‡æ”¯æŒæ’ä»¶åŒ–æ‰©å±•

### å…³é”®æŠ€æœ¯ç»„ä»¶

- **éŸ³é¢‘å¤„ç†**: Opusç¼–è§£ç ã€WebRTCå›å£°æ¶ˆé™¤ã€å®æ—¶é‡é‡‡æ ·ã€ç³»ç»ŸéŸ³é¢‘å½•åˆ¶
- **è¯­éŸ³è¯†åˆ«**: Sherpa-ONNXç¦»çº¿æ¨¡å‹ã€è¯­éŸ³æ´»åŠ¨æ£€æµ‹ã€å”¤é†’è¯è¯†åˆ«
- **åè®®é€šä¿¡**: WebSocket/MQTTåŒåè®®æ”¯æŒã€åŠ å¯†ä¼ è¾“ã€è‡ªåŠ¨é‡è¿
- **é…ç½®ç³»ç»Ÿ**: åˆ†å±‚é…ç½®ã€ç‚¹è®°æ³•è®¿é—®ã€åŠ¨æ€æ›´æ–°ã€JSON/YAMLæ”¯æŒ

### æ€§èƒ½ä¼˜åŒ–

- **å¼‚æ­¥ä¼˜å…ˆ**: å…¨ç³»ç»Ÿå¼‚æ­¥æ¶æ„ï¼Œé¿å…é˜»å¡æ“ä½œ
- **å†…å­˜ç®¡ç†**: æ™ºèƒ½ç¼“å­˜ã€åƒåœ¾å›æ”¶
- **éŸ³é¢‘ä¼˜åŒ–**: 5msä½å»¶è¿Ÿå¤„ç†ã€é˜Ÿåˆ—ç®¡ç†ã€æµå¼ä¼ è¾“
- **å¹¶å‘æ§åˆ¶**: ä»»åŠ¡æ± ç®¡ç†ã€ä¿¡å·é‡æ§åˆ¶ã€çº¿ç¨‹å®‰å…¨

### å®‰å…¨æœºåˆ¶

- **åŠ å¯†é€šä¿¡**: WSS/TLSåŠ å¯†ã€è¯ä¹¦éªŒè¯
- **è®¾å¤‡è®¤è¯**: åŒåè®®æ¿€æ´»ã€è®¾å¤‡æŒ‡çº¹è¯†åˆ«
- **æƒé™æ§åˆ¶**: å·¥å…·æƒé™ç®¡ç†ã€APIè®¿é—®æ§åˆ¶
- **é”™è¯¯éš”ç¦»**: å¼‚å¸¸éš”ç¦»ã€æ•…éšœæ¢å¤ã€ä¼˜é›…é™çº§

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
py-xiaozhi/
â”œâ”€â”€ main.py                     # åº”ç”¨ç¨‹åºä¸»å…¥å£ï¼ˆCLIå‚æ•°å¤„ç†ï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ application.py          # åº”ç”¨ç¨‹åºæ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ audio_codecs/           # éŸ³é¢‘ç¼–è§£ç å™¨
â”‚   â”‚   â”œâ”€â”€ aec_processor.py    # éŸ³é¢‘å›å£°æ¶ˆé™¤å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ audio_codec.py      # éŸ³é¢‘ç¼–è§£ç åŸºç¡€ç±»
â”‚   â”‚   â””â”€â”€ system_audio_recorder.py  # ç³»ç»ŸéŸ³é¢‘å½•åˆ¶å™¨
â”‚   â”œâ”€â”€ audio_processing/       # éŸ³é¢‘å¤„ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ vad_detector.py     # è¯­éŸ³æ´»åŠ¨æ£€æµ‹
â”‚   â”‚   â””â”€â”€ wake_word_detect.py # å”¤é†’è¯æ£€æµ‹
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ota.py             # åœ¨çº¿æ›´æ–°æ¨¡å—
â”‚   â”‚   â””â”€â”€ system_initializer.py # ç³»ç»Ÿåˆå§‹åŒ–å™¨
â”‚   â”œâ”€â”€ display/                # æ˜¾ç¤ºç•Œé¢æŠ½è±¡å±‚
â”‚   â”œâ”€â”€ iot/                    # IoTè®¾å¤‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ thing.py           # è®¾å¤‡åŸºç±»
â”‚   â”‚   â”œâ”€â”€ thing_manager.py   # è®¾å¤‡ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ things/            # å…·ä½“è®¾å¤‡å®ç°
â”‚   â”œâ”€â”€ mcp/                    # MCPå·¥å…·ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ mcp_server.py      # MCPæœåŠ¡å™¨
â”‚   â”‚   â””â”€â”€ tools/             # å„ç§å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ protocols/              # é€šä¿¡åè®®
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ views/                  # UIè§†å›¾ç»„ä»¶
â”œâ”€â”€ libs/                       # ç¬¬ä¸‰æ–¹åŸç”Ÿåº“
â”‚   â”œâ”€â”€ libopus/               # OpuséŸ³é¢‘ç¼–è§£ç åº“
â”‚   â”œâ”€â”€ webrtc_apm/            # WebRTCéŸ³é¢‘å¤„ç†æ¨¡å—
â”‚   â””â”€â”€ SystemAudioRecorder/   # ç³»ç»ŸéŸ³é¢‘å½•åˆ¶å·¥å…·
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶ç›®å½•
â”œâ”€â”€ models/                     # è¯­éŸ³æ¨¡å‹æ–‡ä»¶
â”œâ”€â”€ assets/                     # é™æ€èµ„æºæ–‡ä»¶
â”œâ”€â”€ scripts/                    # è¾…åŠ©è„šæœ¬
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ build.json                  # æ„å»ºé…ç½®æ–‡ä»¶
```

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/huangjunsen0406/py-xiaozhi.git
cd py-xiaozhi

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# ä»£ç æ ¼å¼åŒ–
./format_code.sh

# è¿è¡Œç¨‹åº - GUIæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
python main.py

# è¿è¡Œç¨‹åº - CLIæ¨¡å¼
python main.py --mode cli

# æŒ‡å®šé€šä¿¡åè®®
python main.py --protocol websocket  # WebSocketï¼ˆé»˜è®¤ï¼‰
python main.py --protocol mqtt       # MQTTåè®®
```

### æ ¸å¿ƒå¼€å‘æ¨¡å¼

- **å¼‚æ­¥ä¼˜å…ˆ**: ä½¿ç”¨`async/await`è¯­æ³•ï¼Œé¿å…é˜»å¡æ“ä½œ
- **é”™è¯¯å¤„ç†**: å®Œæ•´çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•
- **é…ç½®ç®¡ç†**: ä½¿ç”¨`ConfigManager`ç»Ÿä¸€é…ç½®è®¿é—®
- **æµ‹è¯•é©±åŠ¨**: ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä»£ç è´¨é‡

### æ‰©å±•å¼€å‘

- **æ·»åŠ MCPå·¥å…·**: åœ¨`src/mcp/tools/`ç›®å½•åˆ›å»ºæ–°å·¥å…·æ¨¡å—
- **æ·»åŠ IoTè®¾å¤‡**: ç»§æ‰¿`Thing`åŸºç±»å®ç°æ–°è®¾å¤‡
- **æ·»åŠ åè®®**: å®ç°`Protocol`æŠ½è±¡åŸºç±»
- **æ·»åŠ ç•Œé¢**: æ‰©å±•`BaseDisplay`å®ç°æ–°çš„UIç»„ä»¶

### çŠ¶æ€æµè½¬å›¾

```
                        +----------------+
                        |                |
                        v                |
+------+  å”¤é†’è¯/æŒ‰é’®  +------------+   |   +------------+
| IDLE | -----------> | CONNECTING | --+-> | LISTENING  |
+------+              +------------+       +------------+
   ^                                            |
   |                                            | è¯­éŸ³è¯†åˆ«å®Œæˆ
   |          +------------+                    v
   +--------- |  SPEAKING  | <-----------------+
     å®Œæˆæ’­æ”¾ +------------+
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤é—®é¢˜æŠ¥å‘Šå’Œä»£ç è´¡çŒ®ã€‚è¯·ç¡®ä¿éµå¾ªä»¥ä¸‹è§„èŒƒï¼š

1. ä»£ç é£æ ¼ç¬¦åˆPEP8è§„èŒƒ
2. æäº¤çš„PRåŒ…å«é€‚å½“çš„æµ‹è¯•
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

## ç¤¾åŒºä¸æ”¯æŒ

### æ„Ÿè°¢ä»¥ä¸‹å¼€æºäººå‘˜
>
> æ’åä¸åˆ†å‰å

[Xiaoxia](https://github.com/78)
[zhh827](https://github.com/zhh827)
[å››åšæ™ºè”-ææ´ªåˆš](https://github.com/SmartArduino)
[HonestQiao](https://github.com/HonestQiao)
[vonweller](https://github.com/vonweller)
[å­™å«å…¬](https://space.bilibili.com/416954647)
[isamu2025](https://github.com/isamu2025)
[Rain120](https://github.com/Rain120)
[kejily](https://github.com/kejily)
[ç”µæ³¢bilibiliå›](https://space.bilibili.com/119751)
[èµ›ææ™ºèƒ½](https://shop115087494.m.taobao.com/?refer=https%3A%2F%2Fm.tb.cn%2F&ut_sk=1.WMelxbgDQWkDAJ1Rq9Pn7DCD_21380790_1757337352472.Copy.shop&suid=0E25E948-651D-46E0-8E89-5C8CB03B4F56&shop_navi=shopindex&sourceType=shop&shareUniqueId=33038752403&un=d22c5ceda82844ab8bd7bab98ffeb263&share_crt_v=1&un_site=0&spm=a2159r.13376460.0.0&sp_tk=dkRKUjRKUWo2ZHY%3D&bc_fl_src=share-1041250486811064-2-1&cpp=1&shareurl=true&short_name=h.SaBKVHytsCKIPNS&bxsign=scdGtSe264e_qkFQBh0rXCkF-Mrb_s6t35EnpVBBU5dsrd-J24c-_rn_PhJiXRk0hg2hjGoAm0L7j2UQg27OIH_6gZkbhKDyLziD2cy4pDf8sC3KmqrF55TXP3USZaPTw_-&app=weixin)

### èµåŠ©æ”¯æŒ

<div align="center">
  <h3>æ„Ÿè°¢æ‰€æœ‰èµåŠ©è€…çš„æ”¯æŒ â¤ï¸</h3>
  <p>æ— è®ºæ˜¯æ¥å£èµ„æºã€è®¾å¤‡å…¼å®¹æµ‹è¯•è¿˜æ˜¯èµ„é‡‘æ”¯æŒï¼Œæ¯ä¸€ä»½å¸®åŠ©éƒ½è®©é¡¹ç›®æ›´åŠ å®Œå–„</p>
  
  <a href="https://huangjunsen0406.github.io/py-xiaozhi/sponsors/" target="_blank">
    <img src="https://img.shields.io/badge/æŸ¥çœ‹-èµåŠ©è€…åå•-brightgreen?style=for-the-badge&logo=github" alt="èµåŠ©è€…åå•">
  </a>
  <a href="https://huangjunsen0406.github.io/py-xiaozhi/sponsors/" target="_blank">
    <img src="https://img.shields.io/badge/æˆä¸º-é¡¹ç›®èµåŠ©è€…-orange?style=for-the-badge&logo=heart" alt="æˆä¸ºèµåŠ©è€…">
  </a>
</div>

## é¡¹ç›®ç»Ÿè®¡

[![Star History Chart](https://api.star-history.com/svg?repos=huangjunsen0406/py-xiaozhi&type=Date)](https://www.star-history.com/#huangjunsen0406/py-xiaozhi&Date)

## è®¸å¯è¯

[MIT License](LICENSE)
